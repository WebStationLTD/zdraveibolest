"use client";

import { useState } from "react";
import { Disclosure, DisclosureButton, DisclosurePanel } from "@headlessui/react";
import { ChevronDownIcon, PhoneIcon, EnvelopeIcon } from "@heroicons/react/24/outline";
import Link from "next/link";

const faqSections = [
  {
    title: "Обобщено",
    color: "bg-[#04737d]",
    accentColor: "text-[#04737d]",
    questions: [
      {
        question: "Трябва ли да плащам, за да участвам в клинично проучване?",
        answer: "Участието в клинично проучване е напълно безплатно за вас. Всички медицински прегледи, изследвания и лечения, които са част от проучването, се осигуряват и финансират от спонсорите (обикновено фармацевтична компания)."
      },
      {
        question: "Получавам ли реимбурсация за участието си?",
        answer: "Да. За времето и усилията си може да получите реимбурсация, която покрива транспортни разходи, храна и други неудобства. Точните условия за реимбурсация се съобщават предварително, за да можете да вземете информирано решение."
      },
      {
        question: "Опасно ли е да участвам в клинично проучване?",
        answer: "Безопасността на пациентите е наш основен приоритет. Преди да започнете, ще преминете през подробен медицински преглед и изследвания, за да сме сигурни, че участието е подходящо и безопасно за вас."
      },
      {
        question: "Как се следи вашето състояние по време на проучването?",
        answer: "По време на проучването ще бъдете под непрекъснато наблюдение – лекарите и медицинският екип следят внимателно всяка промяна във вашето здравословно състояние."
      },
      {
        question: "Какво се случва, ако се появят нежелани реакции?",
        answer: "Ако възникнат нежелани реакции, те се документират и се предприемат мерки веднага. Важно е да знаете, че винаги има изграден план за безопасност."
      },
      {
        question: 'Какво представлява "информираното съгласие"?',
        answer: "Информираното съгласие е документ, който подробно описва целите на проучването, процедурите, възможните ползи и рискове, както и вашите права и задължения. Лекарят и координаторът ще ви обяснят всичко на разбираем език, ще имате достатъчно време да задавате въпроси и да обмислите решението си. Подписвате съгласието само ако сте напълно убедени и съгласни да участвате."
      },
      {
        question: "Мога ли да се откажа по време на проучването?",
        answer: "Участието в клинично проучване е напълно доброволно. Вие решавате дали да се включите и можете да прекратите участието си по всяко време, без да е нужно да обяснявате причината."
      },
      {
        question: "Има ли възрастови ограничения за участие?",
        answer: "Да, всяко проучване има свои критерии. Повечето включват възрастни над 18 години, но има и проучвания за по-възрастни пациенти или специфични групи. Точните условия се уточняват в началото."
      },
      {
        question: "Колко често ще трябва да идвам в центъра?",
        answer: "Това зависи от протокола на проучването. Някои изискват ежеседмични посещения, други – месечни. Графикът ще бъде ясен още преди да започнете, за да може да планирате удобно времето си."
      },
      {
        question: "Ще имам ли достъп до лекарството след края на проучването?",
        answer: "Това зависи от конкретното изследване. Понякога се предлага възможност за продължаване на лечението чрез специална програма. Ако такава не е предвидена, лекарят ще обсъди с вас най-подходящите налични терапии."
      },
      {
        question: "Безопасни ли са новите лекарства, които се тестват?",
        answer: "Преди да бъдат тествани при хора, новите лекарства преминават през дълъг лабораторен и предклиничен процес. Клиничните изпитвания са внимателно наблюдавани и се провеждат по международни стандарти за безопасност (ICH-GCP). Всяка нежелана реакция се проследява и докладва незабавно."
      },
      {
        question: "Кой контролира провеждането на проучванията?",
        answer: "Всички клинични проучвания в България са под надзора на Изпълнителната агенция по лекарствата (ИАЛ) и Етични комисии, които защитават участниците. Международните спонсори и инспектори също извършват независими проверки."
      }
    ]
  },
  {
    title: "Как протичат клиничните проучвания?",
    color: "bg-[#fd9300]",
    accentColor: "text-[#fd9300]",
    questions: [
      {
        question: "Кой следи за безопасността по време на проучването?",
        answer: "Всеки проект се одобрява от Етична комисия и Изпълнителната агенция по лекарствата (ИАЛ). Проучванията се провеждат по международни стандарти (ICH-GCP), а участниците са под постоянен лекарски контрол и застраховани срещу евентуални нежелани реакции."
      },
      {
        question: "Какви са различните фази на едно клинично проучване?",
        answer: "Фаза I: изследва безопасността при малък брой здрави доброволци.\nФаза II: оценява ефективността при пациенти с конкретно заболяване.\nФаза III: включва по-голям брой участници в различни държави.\nФаза IV: наблюдение след одобрение на лекарството на пазара."
      },
      {
        question: "Ще ми помогне ли участието в клинично проучване?",
        answer: "Участието не гарантира излекуване, но може да даде достъп до иновативно лечение, което още не е достъпно на пазара. Много пациенти избират да участват и заради възможността да помогнат за развитието на медицината и бъдещи терапии."
      },
      {
        question: "Ще знам ли какво лечение получавам?",
        answer: 'Зависи от дизайна на проучването. В някои случаи лекарят и участникът знаят какво лечение се прилага. В други (т.нар. "сляпи" проучвания) това е скрито, за да се избегне пристрастност и резултатите да са обективни.'
      },
      {
        question: "Мога ли да участвам в повече от едно проучване едновременно?",
        answer: "За да се гарантира безопасността и коректността на данните, не е позволено участие в повече от едно клинично проучване в даден период. Лекарят винаги ще ви попита дали наскоро сте участвали в друго изследване."
      },
      {
        question: "Как се защитават личните ми данни?",
        answer: "Всички лични и медицински данни се обработват съгласно Регламент (ЕС) 2016/679 (GDPR). Имената не се използват в отчетите — информацията се кодира, за да се запази пълна конфиденциалност."
      },
      {
        question: "Кой финансира клиничните проучвания?",
        answer: "Проучванията се финансират от фармацевтични компании, академични институции или изследователски организации (CRO)."
      },
      {
        question: "Какви са ползите от участието?",
        answer: "• Ранен достъп до иновативни терапии\n• Безплатни медицински прегледи и изследвания\n• Възможност да помогнете на други хора със същото заболяване\n• Подкрепа от опитен медицински екип"
      },
      {
        question: "Има ли рискове от участие?",
        answer: "Както при всяко лечение, съществува риск от странични ефекти. Всички потенциални рискове се обсъждат предварително, а екипът предприема мерки за безопасност и наблюдение през цялото време."
      },
      {
        question: "Ще получа ли информация за резултатите от проучването?",
        answer: "След приключване и анализиране на данните участниците могат да получат обобщена информация."
      },
      {
        question: "Кой решава дали съм подходящ за участие?",
        answer: "Лекар от изследователския център ще прегледа медицинската история, резултатите от изследвания и критериите за включване. Само ако всички условия са изпълнени, може да бъдете одобрени за участие."
      },
      {
        question: "Какво ще стане, ако проучването покаже, че новото лечение не е ефективно?",
        answer: "Тогава спонсорът прекратява проучването, а участниците получават необходимата медицинска грижа. Тази информация е ценна, защото предотвратява използването на неефективни или рискови терапии."
      },
      {
        question: "Какво се случва, ако пропусна визита?",
        answer: "Важно е да уведомите екипа възможно най-рано. Понякога може да се насрочи нова дата, но пропускането на ключови визити може да наложи прекратяване на участието."
      },
      {
        question: "Какво е клинично проучване с плацебо?",
        answer: "В някои изследвания част от участниците получават плацебо – вещество без активен компонент. Това позволява да се сравни реалният ефект на новото лечение спрямо липсата на терапия. Никой пациент не остава без медицинска грижа – стандартното лечение винаги се осигурява при нужда."
      },
      {
        question: "Как да разбера дали дадено проучване е законно и безопасно?",
        answer: "Всички законни проучвания в България се одобряват от Изпълнителната агенция по лекарствата (ИАЛ) и са вписани в публични регистри. Ако имате съмнение, може да попитате лекуващия си лекар или да проверите в официалния регистър на ЕС."
      }
    ]
  },
  {
    title: "Какво да направя, преди да участвам в клинично проучване",
    color: "bg-[#04737d]",
    accentColor: "text-[#04737d]",
    questions: [
      {
        question: "Потърси надеждна информация",
        answer: "Преди да вземете решение се уверете, че проучването е официално одобрено и се провежда от лицензирана организация."
      },
      {
        question: "Обсъди решението със своя лекар",
        answer: "Консултирайте се с лекуващия си лекар, особено ако имате хронични заболявания и приемате лекарства. Той може да ви помогне да преценете дали участието е безопасно и подходящо за вашето състояние."
      },
      {
        question: "Разбери целта на проучването",
        answer: "Попитайте екипа какво точно се изследва – нов медикамент, устройство или терапия. Уверете се, че знаете: какви резултати се очакват, какво лечение ще се прилага, колко време ще продължи участието ви."
      },
      {
        question: "Прочетете внимателно формуляра за информирано съгласие",
        answer: "В него е описано всичко важно – процедурите, рисковете, възможните ползи, вашите права и контактите на екипа. Не подписвайте, ако не разбирате нещо – имате пълното право да задавате въпроси, докато получите напълно ясен отговор."
      },
      {
        question: "Попитайте за рисковете и страничните ефекти",
        answer: "Няма напълно безрисково лечение. Поискайте да ви обяснят какви нежелани реакции са възможни, колко често се срещат и как ще бъдат наблюдавани или лекувани при нужда."
      },
      {
        question: "Уточнете дали ще получите плацебо или реално лечение",
        answer: "В някои проучвания участниците се разделят на групи – едни получават новото лечение, други плацебо (неактивно вещество). Важно е да знаете дали има такава вероятност и как това може да повлияе на резултатите."
      },
      {
        question: "Попитайте какво се случва, ако решите да се откажете",
        answer: "Можете да прекратите участието си по всяко време. Поискайте да разберете как ще се процедира тогава – дали трябва да направите заключителен преглед и как ще продължи наблюдението на вашето здраве."
      },
      {
        question: "Проверете как ще се пазят личните ви данни",
        answer: "Всички ваши медицински резултати се третират като строго поверителна информация. Уверете се, че данните ще се съхраняват по правилата на GDPR и ще се използват единствено за научни цели."
      },
      {
        question: "Разберете дали участието е свързано с разходи или възнаграждение",
        answer: "Участниците не заплащат за процедури или лекарства по проучването. В много случаи се осигурява и компенсация за време и пътни разходи. Попитайте предварително за това."
      },
      {
        question: "Поискайте информация за контакт при спешност",
        answer: "Уверете се, че имате телефон или имейл на човек от екипа, с когото можете да се свържете по всяко време при въпроси или неразположение. Тази информация трябва да е ясно посочена в документацията."
      },
      {
        question: "Разберете какво ще стане след края на вашето участие",
        answer: "Попитайте дали ще можете да продължите лечението, ако терапията се окаже ефективна за вас. Също така уточнете дали ще получите резултати от изследванията или обобщение на заключенията."
      },
      {
        question: "Споделете решението си с близките си",
        answer: "Добре е да обсъдите решението си с човек, на когото имате доверие. Това може да ви помогне да вземете по-уверено и информирано решение."
      },
      {
        question: "Бъдете сигурни, че участието ви е доброволно",
        answer: "Никой няма право да ви притиска или убеждава с обещания. Клиничното проучване е право, не задължение – вие решавате кога да започнете и кога да спрете."
      },
      {
        question: "Подгответе се психически и организационно",
        answer: "Понякога участието изисква редовни посещения, тестове или ограничен режим. Уверете се, че можете да се ангажирате с изискванията и че имате време за това."
      },
      {
        question: "Водете си бележки и задавайте въпроси",
        answer: "Не се колебайте да питате – колкото повече разбирате, толкова по-добре можете да се грижите за себе си. Можете дори да си запишете въпросите предварително, за да не забравите нищо по време на разговора."
      },
      {
        question: "Какви документи трябва да носите със себе си?",
        answer: "Обикновено е необходимо да носите:\n• лична карта;\n• всички документи, които сте получили предварително (ако има такива);\n• списък с лекарствата, които приемате."
      },
      {
        question: "Какви лични вещи е добре да носите по време на кратко посещение?",
        answer: "За стандартна визита може да вземете:\n• очила за четене (ако използвате);\n• вода или лека закуска (ако посещението е по-дълго и ако е позволено);\n• удобни дрехи;\n• зарядно за телефон;\n• бележник или телефон за записване на въпроси."
      },
      {
        question: "Какво да носите, ако проучването включва нощувки?",
        answer: "При нощувка може да подготвите:\n• пижама или удобни дрехи за спане;\n• допълнителни дрехи за смяна;\n• чехли или меки обувки за вътре;\n• лична козметика;\n• малка възглавница или одеяло, ако предпочитате собствени (по избор);\n• зарядно за телефон или други устройства;\n• книга, списание или таблет за свободното време.\nЕкипът ще ви съобщи предварително, ако има специални изисквания."
      },
      {
        question: "Какви вещи не трябва да носите?",
        answer: "Обикновено са забранени:\n• алкохол и енергийни напитки;\n• цигари (в зависимост от режима на центъра);\n• лекарства и хранителни добавки, които не са разрешени от екипа;\n• скъпи вещи и големи суми пари.\nАко имате съмнение, най-добре е да попитате предварително."
      }
    ]
  }
];

export default function FAQPage() {
  const [activeSection, setActiveSection] = useState(0);

  return (
    <div className="bg-white">
      {/* Hero Section */}
      <section className="relative bg-gradient-to-br from-[#04737d] via-[#035a63] to-[#024248] py-16 md:py-24 overflow-hidden">
        {/* Decorative Elements */}
        <div className="absolute inset-0 opacity-10">
          <div className="absolute top-10 left-10 w-72 h-72 bg-white rounded-full blur-3xl"></div>
          <div className="absolute bottom-10 right-10 w-96 h-96 bg-[#fd9300] rounded-full blur-3xl"></div>
        </div>
        
        <div className="relative mx-auto w-[95%] md:w-[80%] text-center">
          <h1 className="text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-6 leading-tight">
            Често задавани въпроси
          </h1>
          <p className="text-lg md:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed">
            Отговори на най-важните въпроси за клиничните изпитвания. Прочетете внимателно и се свържете с нас, ако имате допълнителни въпроси.
          </p>
        </div>
      </section>

      {/* FAQ Sections */}
      <section className="py-16 md:py-24">
        <div className="mx-auto w-[95%] md:w-[80%]">
          {/* Section Tabs/Buttons */}
          <div className="mb-12 flex flex-col md:flex-row gap-4 md:gap-6 justify-center">
            {faqSections.map((section, index) => (
              <button
                key={index}
                onClick={() => setActiveSection(index)}
                className={`px-6 py-4 rounded-xl font-semibold text-base md:text-lg transition-all duration-300 ${
                  activeSection === index
                    ? `${section.color} text-white shadow-xl scale-105`
                    : "bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-102"
                }`}
              >
                {section.title}
              </button>
            ))}
          </div>

          {/* Active Section Questions */}
          <div className="max-w-4xl mx-auto">
            <div className="space-y-4">
              {faqSections[activeSection].questions.map((item, index) => (
                <Disclosure key={index}>
                  {({ open }) => (
                    <div 
                      className={`bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden border-2 ${
                        open 
                          ? `border-${faqSections[activeSection].color} ${faqSections[activeSection].color}/5` 
                          : "border-transparent"
                      }`}
                    >
                      <DisclosureButton className="flex items-center justify-between w-full px-6 py-5 text-left">
                        <span className={`font-semibold text-base md:text-lg pr-4 ${
                          open ? faqSections[activeSection].accentColor : "text-gray-900"
                        }`}>
                          {item.question}
                        </span>
                        <ChevronDownIcon 
                          className={`h-6 w-6 flex-shrink-0 transition-all duration-300 ${
                            open 
                              ? `rotate-180 ${faqSections[activeSection].accentColor}` 
                              : "text-gray-400"
                          }`}
                        />
                      </DisclosureButton>
                      <DisclosurePanel className="px-6 pb-5">
                        <div className="pt-2 border-t border-gray-100">
                          <p className="text-gray-700 leading-relaxed whitespace-pre-line">
                            {item.answer}
                          </p>
                        </div>
                      </DisclosurePanel>
                    </div>
                  )}
                </Disclosure>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Contact CTA Section */}
      <section className="py-16 md:py-20 bg-gradient-to-br from-gray-50 to-gray-100">
        <div className="mx-auto w-[95%] md:w-[80%]">
          <div className="max-w-4xl mx-auto">
            <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 text-center">
              <h2 className="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-6">
                Не намирате отговора, който търсите?
              </h2>
              <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
                Ако не намирате нужната информация, не се колебайте да се свържете с нас директно. Нашият екип е на ваше разположение да отговори на всички ваши въпроси.
              </p>
              
              {/* Contact Options */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                {/* Phone */}
                <a 
                  href="tel:+359000000000" 
                  className="flex flex-col items-center justify-center p-6 bg-gradient-to-br from-[#04737d] to-[#035a63] rounded-2xl hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group"
                >
                  <div className="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                    <PhoneIcon className="h-8 w-8 text-white" />
                  </div>
                  <p className="text-white/80 text-sm mb-2 font-medium">Обадете ни се</p>
                  <p className="text-white text-lg font-bold">+359 XX XXX XXXX</p>
                </a>

                {/* Email */}
                <a 
                  href="mailto:info@example.com" 
                  className="flex flex-col items-center justify-center p-6 bg-gradient-to-br from-[#fd9300] to-[#e48400] rounded-2xl hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group"
                >
                  <div className="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                    <EnvelopeIcon className="h-8 w-8 text-white" />
                  </div>
                  <p className="text-white/80 text-sm mb-2 font-medium">Пишете ни</p>
                  <p className="text-white text-lg font-bold">info@example.com</p>
                </a>
              </div>

              {/* CTA Button */}
              <Link
                href="/patiat-na-patsienta"
                className="inline-block px-8 py-4 bg-gradient-to-r from-[#04737d] to-[#035a63] hover:from-[#035a63] hover:to-[#024248] text-white text-base md:text-lg font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-2xl hover:scale-105"
              >
                Научете повече за участието
              </Link>
            </div>
          </div>
        </div>
      </section>

      {/* Footer Illustration */}
      <div className="relative -mt-1">
        <img
          src="/Footer Illustration.svg"
          alt="Медицински специалисти"
          className="w-full h-auto"
          loading="lazy"
        />
      </div>
    </div>
  );
}

